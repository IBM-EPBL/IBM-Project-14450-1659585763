int inches = 0;

int cm = 0;
int ma=0;
float lastLight=0;
float light=0;
float lightPersnt=0;
int motion = 0;
int lastMotion=1;

long readUltrasonicDistance(int pin)
{
  pinMode(pin, OUTPUT);  // Clear the trigger
  digitalWrite(pin, LOW);
  delayMicroseconds(2);
  // Sets the pin on HIGH state for 10 micro seconds
  digitalWrite(pin, HIGH);
  delayMicroseconds(10);
  digitalWrite(pin, LOW);
  pinMode(pin, INPUT);
  // Reads the pin, and returns the sound wave travel time in microseconds
  return pulseIn(pin, HIGH);
}

void setup()
{
  pinMode(5, INPUT); // Destance
  pinMode(A0, INPUT); //LIGHT
  pinMode(8, INPUT);  // MOTION
  
  Serial.begin(9600);

}

void loop()
{
 
  // measure the ping time in cm
  cm = 0.01723 * readUltrasonicDistance(5);
  // convert to inches by dividing by 2.54
  inches = (cm / 2.54);
  if(cm != ma)
  { 
  Serial.print(inches);
  Serial.print("in, ");
  Serial.print(cm);
    Serial.println("cm    ");
    ma=cm;}
  
    light = analogRead(A0)-205;
  	lightPersnt= 100-(100*(light/818));
  if(light != lastLight)
  {
  
    Serial.print(lightPersnt);Serial.println("%");
    lastLight=light;
  }
  motion=digitalRead(8);
  if(motion!=lastMotion)
  {
  Serial.println(motion);
    lastMotion=motion;
  }
   if(cm>=150)
  {
   digitalWrite(2,HIGH); 
  }
  else {digitalWrite(2,LOW);}
  
  if(lightPersnt>=50)
  {
   digitalWrite(3,HIGH); 
  }
  else {digitalWrite(3,LOW);}
  
  if(lastMotion>=0.50)
  {
   digitalWrite(4,HIGH); 
  }
  else {digitalWrite(4,LOW);}
  
  
  delay(100); // Wait for 100 millisecond(s)

}
